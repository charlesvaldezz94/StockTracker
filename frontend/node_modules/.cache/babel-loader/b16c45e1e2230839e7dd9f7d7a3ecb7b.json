{"ast":null,"code":"var _jsxFileName = \"/Users/charlesvaldez/SoftwareDevelopment/StockTracker/frontend/src/components/Home.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { useAuth } from \"../auth/authContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Home = _ref => {\n  _s();\n  let {\n    apiKey\n  } = _ref;\n  const {\n    currentUser\n  } = useAuth(); // Access the current user from the authentication context\n  const [topStocks, setTopStocks] = useState([]);\n  useEffect(() => {\n    console.log(currentUser);\n    const fetchTopStocks = async () => {\n      try {\n        // Check if the user is authenticated\n        if (currentUser) {\n          // ARRAY OF STOCK SYMBOLS\n          const stockSymbols = [\"AAPL\", \"MSFT\", \"FB\", \"AMZN\", \"SNE\"];\n\n          // FETCHING DATA FOR EACH SYMBOL\n          const stockDataPromises = stockSymbols.map(async symbol => {\n            const response = await axios.get(`https://www.alphavantage.co/query?function=TIME_SERIES_INTRADAY&symbol=${symbol}&interval=5min&apikey=${apiKey}`);\n\n            // PROCESS THE DATA IN EACH RESPONSE\n            const stockData = response.data;\n            return {\n              symbol,\n              data: stockData\n            };\n          });\n\n          // WAIT FOR ALL PROMISES\n          const stocksData = await Promise.all(stockDataPromises);\n          setTopStocks(stocksData);\n        } else {\n          // User is not authenticated, handle accordingly (e.g., redirect to login)\n          console.log(\"User not authenticated. Redirect to login page.\");\n        }\n      } catch (error) {\n        console.error(\"Error fetching top stocks data:\", error);\n      }\n    };\n    fetchTopStocks();\n  }, [apiKey, currentUser]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"homeContainer\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"homeTopContainer\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"homeTitle\",\n        children: \" Welcome to StockTracker \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"homeContentContainer\",\n      children: currentUser ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"top5Title\",\n          children: \"Here is the data for Apple, Microsoft, Facebook, Amazon, and Sony!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 13\n        }, this), topStocks.map((stock, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stockInfo\"\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 15\n        }, this))]\n      }, void 0, true) : /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Please log in to view stock data.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 5\n  }, this);\n};\n_s(Home, \"mc6A5SaV1sGa16DKrgJhuptUXAc=\", false, function () {\n  return [useAuth];\n});\n_c = Home;\nexport default Home;\nvar _c;\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"names":["React","useState","useEffect","axios","useAuth","Home","apiKey","currentUser","topStocks","setTopStocks","console","log","fetchTopStocks","stockSymbols","stockDataPromises","map","symbol","response","get","stockData","data","stocksData","Promise","all","error","stock","index"],"sources":["/Users/charlesvaldez/SoftwareDevelopment/StockTracker/frontend/src/components/Home.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { useAuth } from \"../auth/authContext\";\n\nconst Home = ({ apiKey }) => {\n  const { currentUser } = useAuth(); // Access the current user from the authentication context\n  const [topStocks, setTopStocks] = useState([]);\n\n  useEffect(() => {\n    console.log(currentUser);\n    const fetchTopStocks = async () => {\n      try {\n        // Check if the user is authenticated\n        if (currentUser) {\n          // ARRAY OF STOCK SYMBOLS\n          const stockSymbols = [\"AAPL\", \"MSFT\", \"FB\", \"AMZN\", \"SNE\"];\n\n          // FETCHING DATA FOR EACH SYMBOL\n          const stockDataPromises = stockSymbols.map(async (symbol) => {\n            const response = await axios.get(\n              `https://www.alphavantage.co/query?function=TIME_SERIES_INTRADAY&symbol=${symbol}&interval=5min&apikey=${apiKey}`\n            );\n\n            // PROCESS THE DATA IN EACH RESPONSE\n            const stockData = response.data;\n\n            return {\n              symbol,\n              data: stockData,\n            };\n          });\n\n          // WAIT FOR ALL PROMISES\n          const stocksData = await Promise.all(stockDataPromises);\n\n          setTopStocks(stocksData);\n        } else {\n          // User is not authenticated, handle accordingly (e.g., redirect to login)\n          console.log(\"User not authenticated. Redirect to login page.\");\n        }\n      } catch (error) {\n        console.error(\"Error fetching top stocks data:\", error);\n      }\n    };\n\n    fetchTopStocks();\n  }, [apiKey, currentUser]);\n\n  return (\n    <div className=\"homeContainer\">\n      <div className=\"homeTopContainer\">\n        <div className=\"homeTitle\"> Welcome to StockTracker </div>\n      </div>\n      <div className=\"homeContentContainer\">\n        {currentUser ? (\n          <>\n            <div className=\"top5Title\">\n              Here is the data for Apple, Microsoft, Facebook, Amazon, and Sony!\n            </div>\n            {topStocks.map((stock, index) => (\n              <div key={index} className=\"stockInfo\">\n                {/* ... (rest of the content) */}\n              </div>\n            ))}\n          </>\n        ) : (\n          <p>Please log in to view stock data.</p>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default Home;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,OAAO,QAAQ,qBAAqB;AAAC;AAAA;AAE9C,MAAMC,IAAI,GAAG,QAAgB;EAAA;EAAA,IAAf;IAAEC;EAAO,CAAC;EACtB,MAAM;IAAEC;EAAY,CAAC,GAAGH,OAAO,EAAE,CAAC,CAAC;EACnC,MAAM,CAACI,SAAS,EAAEC,YAAY,CAAC,GAAGR,QAAQ,CAAC,EAAE,CAAC;EAE9CC,SAAS,CAAC,MAAM;IACdQ,OAAO,CAACC,GAAG,CAACJ,WAAW,CAAC;IACxB,MAAMK,cAAc,GAAG,YAAY;MACjC,IAAI;QACF;QACA,IAAIL,WAAW,EAAE;UACf;UACA,MAAMM,YAAY,GAAG,CAAC,MAAM,EAAE,MAAM,EAAE,IAAI,EAAE,MAAM,EAAE,KAAK,CAAC;;UAE1D;UACA,MAAMC,iBAAiB,GAAGD,YAAY,CAACE,GAAG,CAAC,MAAOC,MAAM,IAAK;YAC3D,MAAMC,QAAQ,GAAG,MAAMd,KAAK,CAACe,GAAG,CAC7B,0EAAyEF,MAAO,yBAAwBV,MAAO,EAAC,CAClH;;YAED;YACA,MAAMa,SAAS,GAAGF,QAAQ,CAACG,IAAI;YAE/B,OAAO;cACLJ,MAAM;cACNI,IAAI,EAAED;YACR,CAAC;UACH,CAAC,CAAC;;UAEF;UACA,MAAME,UAAU,GAAG,MAAMC,OAAO,CAACC,GAAG,CAACT,iBAAiB,CAAC;UAEvDL,YAAY,CAACY,UAAU,CAAC;QAC1B,CAAC,MAAM;UACL;UACAX,OAAO,CAACC,GAAG,CAAC,iDAAiD,CAAC;QAChE;MACF,CAAC,CAAC,OAAOa,KAAK,EAAE;QACdd,OAAO,CAACc,KAAK,CAAC,iCAAiC,EAAEA,KAAK,CAAC;MACzD;IACF,CAAC;IAEDZ,cAAc,EAAE;EAClB,CAAC,EAAE,CAACN,MAAM,EAAEC,WAAW,CAAC,CAAC;EAEzB,oBACE;IAAK,SAAS,EAAC,eAAe;IAAA,wBAC5B;MAAK,SAAS,EAAC,kBAAkB;MAAA,uBAC/B;QAAK,SAAS,EAAC,WAAW;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAgC;MAAA;MAAA;MAAA;IAAA,QACtD,eACN;MAAK,SAAS,EAAC,sBAAsB;MAAA,UAClCA,WAAW,gBACV;QAAA,wBACE;UAAK,SAAS,EAAC,WAAW;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QAEpB,EACLC,SAAS,CAACO,GAAG,CAAC,CAACU,KAAK,EAAEC,KAAK,kBAC1B;UAAiB,SAAS,EAAC;QAAW,GAA5BA,KAAK;UAAA;UAAA;UAAA;QAAA,QAGhB,CAAC;MAAA,gBACD,gBAEH;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IACD;MAAA;MAAA;MAAA;IAAA,QACG;EAAA;IAAA;IAAA;IAAA;EAAA,QACF;AAEV,CAAC;AAAC,GAnEIrB,IAAI;EAAA,QACgBD,OAAO;AAAA;AAAA,KAD3BC,IAAI;AAqEV,eAAeA,IAAI;AAAC;AAAA"},"metadata":{},"sourceType":"module"}